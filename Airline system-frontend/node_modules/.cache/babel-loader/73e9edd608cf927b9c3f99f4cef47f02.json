{"ast":null,"code":"var _jsxFileName = \"E:\\\\Final project\\\\Airline system-frontend - Copy\\\\src\\\\screens\\\\TicketHistoryForCustomerScreen.js\";\nimport React, { Component } from \"react\";\nimport UserAPIService from \"../service/UserAPIService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TicketHistoryForCustomerScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: [],\n      message: null\n    };\n    this.reloadBookingList = this.reloadBookingList.bind(this);\n  }\n  componentDidMount() {\n    this.reloadBookingList();\n  }\n  reloadBookingList() {\n    UserAPIService.getbookingsByUserId(window.sessionStorage.getItem(\"userid\")).then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") this.setState({\n        bookings: res.data.data\n      });else this.props.history.push(\"/customer/search_flight\");\n      console.log(this.state.bookings);\n    });\n  }\n  postFeedback(bookingId) {\n    sessionStorage.setItem('bid', bookingId);\n    this.props.history.push('/post_Customer_Feedback');\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"hidden\",\n              children: \"Booking Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Airline Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"User Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Booking Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Departure Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Arrival Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Fare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.bookings.map(booking => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.bookingId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.airlineId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.bookingDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.journeyDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.arrivalDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.totalFare\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), booking.status == 1 && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 39\n            }, this), booking.status == 0 && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => this.postFeedback(booking.bookingId),\n                children: [\" \", \"Post feedback\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, booking.bookingId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","UserAPIService","jsxDEV","_jsxDEV","TicketHistoryForCustomerScreen","constructor","props","state","bookings","message","reloadBookingList","bind","componentDidMount","getbookingsByUserId","window","sessionStorage","getItem","then","res","console","log","data","status","setState","history","push","postFeedback","bookingId","setItem","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","booking","airlineId","userId","bookingDate","journeyDate","arrivalDate","totalFare","onClick"],"sources":["E:/Final project/Airline system-frontend - Copy/src/screens/TicketHistoryForCustomerScreen.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport UserAPIService from \"../service/UserAPIService\";\nexport default class TicketHistoryForCustomerScreen extends Component{\nconstructor(props) {\n    super(props);\n    this.state = {\n      bookings: [],\n      message: null,\n    };\n    this.reloadBookingList = this.reloadBookingList.bind(this);\n  }\n  componentDidMount() {\n    this.reloadBookingList();\n  }\n\n  reloadBookingList() {\n    UserAPIService.getbookingsByUserId(window.sessionStorage.getItem(\"userid\"))\n        .then((res) => {\n          console.log(res);\n          if (res.data.status == \"success\")\n            this.setState({ bookings: res.data.data });\n          else this.props.history.push(\"/customer/search_flight\");\n          console.log(this.state.bookings);\n    });\n  }\n  postFeedback(bookingId){\n      sessionStorage.setItem('bid', bookingId);\n      this.props.history.push('/post_Customer_Feedback');\n  }\n\n  render() {\n    return (\n      <div>\n        <h2 className=\"text-center\">Bookings</h2>\n        <table className=\"table table-striped\">\n          <thead>\n            <tr>\n              <th className=\"hidden\">Booking Id</th>\n              <th>Airline Id</th>\n              <th>User Id</th>\n              <th>Booking Date</th>\n              <th>Departure Date</th>\n              <th>Arrival Date</th>\n              <th>Total Fare</th>\n              <th>Status</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.bookings.map((booking) => (\n              <tr key={booking.bookingId}>\n                <td>{booking.bookingId}</td>\n                <td>{booking.airlineId}</td>\n                <td>{booking.userId}</td>\n                <td>{booking.bookingDate}</td>\n                <td>{booking.journeyDate}</td>\n                <td>{booking.arrivalDate}</td>\n                <td>{booking.totalFare}</td>\n                {booking.status==1 && <td>Active</td>}\n                {booking.status==0 && <td>Cancelled</td>}\n\n                <td>\n                  <button\n                    className=\"btn btn-success\"\n                    onClick={() => this.postFeedback(booking.bookingId)}\n                  >\n                    {\" \"}\n                    Post feedback\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}