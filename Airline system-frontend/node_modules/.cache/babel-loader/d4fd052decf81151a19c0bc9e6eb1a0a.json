{"ast":null,"code":"import { USER_SIGNIN_FAIL, USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNOUT, USER_SIGNUP_FAIL, USER_SIGNUP_REQUEST, USER_SIGNUP_SUCCESS } from '../constants/userConstants';\nimport axios from 'axios';\nimport { BASE_API } from '../constants/ApiConstant';\nimport AuthenticationService from '../service/AuthenticationService';\nexport const logout = () => {\n  return dispatch => {\n    sessionStorage.removeItem('token');\n    dispatch({\n      type: USER_SIGNOUT\n    });\n    document.location.href = '/signin';\n  };\n};\nexport const signup = (firstName, lastName, email, password, mobileNo, status, roles) => {\n  return dispatch => {\n    dispatch({\n      type: USER_SIGNUP_REQUEST\n    });\n    const header = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const body = {\n      firstName,\n      lastName,\n      email,\n      password,\n      mobileNo,\n      status,\n      roles\n    };\n    // const url = BASE_API+'/user/signup'\n    const url = BASE_API + '/api/signup';\n    axios.post(url, body, header).then(response => {\n      dispatch({\n        type: USER_SIGNUP_SUCCESS,\n        payload: response.data\n      });\n    }).catch(error => {\n      dispatch({\n        type: USER_SIGNUP_FAIL,\n        payload: error\n      });\n    });\n  };\n};\nexport const signin = (email, password) => {\n  return dispatch => {\n    dispatch({\n      type: USER_SIGNIN_REQUEST\n    });\n    const header = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const body = {\n      email,\n      password\n    };\n    const url = BASE_API + '/user/login';\n    // const url = BASE_API+'/api/signin'\n    axios.post(url, body, header).then(response => {\n      //   AuthenticationService.authenticateUser(email, password)\n      // .then((response) => {\n      //   console.log(\"auth success\", response);\n      //   AuthenticationService.storeUserDetails(email, response.data.jwt);\n      //   console.log(\"welcome\");\n      //   // setlogin(true);\n      //   // setauthenticated(true);\n      //   // navigation(`/home/${userName}`);\n      // })\n      // .catch((error) => {\n      //   // swal(\"Oops\", \"Wrong username or password\", \"error\");\n      //   console.log(\"auth failed \", error.message);\n      // });\n      dispatch({\n        type: USER_SIGNIN_SUCCESS,\n        payload: response.data\n      });\n    }).catch(error => {\n      console.log(\"in catch error\");\n      dispatch({\n        type: USER_SIGNIN_FAIL,\n        payload: error\n      });\n    });\n  };\n};","map":{"version":3,"names":["USER_SIGNIN_FAIL","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNOUT","USER_SIGNUP_FAIL","USER_SIGNUP_REQUEST","USER_SIGNUP_SUCCESS","axios","BASE_API","AuthenticationService","logout","dispatch","sessionStorage","removeItem","type","document","location","href","signup","firstName","lastName","email","password","mobileNo","status","roles","header","headers","body","url","post","then","response","payload","data","catch","error","signin","console","log"],"sources":["E:/Final project/Airline system-frontend - Copy/src/actions/userActions.js"],"sourcesContent":["import {\n  USER_SIGNIN_FAIL,\n  USER_SIGNIN_REQUEST,\n  USER_SIGNIN_SUCCESS,\n  USER_SIGNOUT,\n  USER_SIGNUP_FAIL,\n  USER_SIGNUP_REQUEST,\n  USER_SIGNUP_SUCCESS,\n} from '../constants/userConstants'\nimport axios from 'axios'\nimport { BASE_API } from '../constants/ApiConstant'\nimport AuthenticationService from '../service/AuthenticationService'\n\nexport const logout = () => {\n  return (dispatch) => {\n    sessionStorage.removeItem('token')\n    dispatch({ type: USER_SIGNOUT })\n    document.location.href = '/signin'\n  }\n}\n\nexport const signup = (firstName, lastName, email, password, mobileNo, status, roles) => {\n  return (dispatch) => {\n    dispatch({\n      type: USER_SIGNUP_REQUEST,\n    })\n\n    const header = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n\n    const body = {\n      firstName,\n      lastName,\n      email,\n      password,\n      mobileNo,\n      status,\n      roles\n    }\n    // const url = BASE_API+'/user/signup'\n    const url = BASE_API+'/api/signup'\n    axios\n      .post(url, body, header)\n      .then((response) => {\n        dispatch({\n          type: USER_SIGNUP_SUCCESS,\n          payload: response.data,\n        })\n      })\n      .catch((error) => {\n        dispatch({\n          type: USER_SIGNUP_FAIL,\n          payload: error,\n        })\n      })\n  }\n}\n\nexport const signin = (email, password) => {\n  return (dispatch) => {\n    dispatch({\n      type: USER_SIGNIN_REQUEST,\n    })\n\n    const header = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n\n    const body = {\n      email,\n      password,\n    }\n    const url = BASE_API+'/user/login'\n    // const url = BASE_API+'/api/signin'\n    axios\n      .post(url, body, header)\n      .then((response) => {\n          //   AuthenticationService.authenticateUser(email, password)\n          // .then((response) => {\n          //   console.log(\"auth success\", response);\n          //   AuthenticationService.storeUserDetails(email, response.data.jwt);\n          //   console.log(\"welcome\");\n          //   // setlogin(true);\n          //   // setauthenticated(true);\n          //   // navigation(`/home/${userName}`);\n          // })\n          // .catch((error) => {\n          //   // swal(\"Oops\", \"Wrong username or password\", \"error\");\n          //   console.log(\"auth failed \", error.message);\n          // });\n        dispatch({\n          type: USER_SIGNIN_SUCCESS,\n          payload: response.data,\n        })\n      })\n      .catch((error) => {\n        console.log(\"in catch error\");\n        dispatch({\n          type: USER_SIGNIN_FAIL,\n          payload: error,\n        })\n      })\n  }\n}\n"],"mappings":"AAAA,SACEA,gBAAgB,EAChBC,mBAAmB,EACnBC,mBAAmB,EACnBC,YAAY,EACZC,gBAAgB,EAChBC,mBAAmB,EACnBC,mBAAmB,QACd,4BAA4B;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,OAAOC,qBAAqB,MAAM,kCAAkC;AAEpE,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAC1B,OAAQC,QAAQ,IAAK;IACnBC,cAAc,CAACC,UAAU,CAAC,OAAO,CAAC;IAClCF,QAAQ,CAAC;MAAEG,IAAI,EAAEX;IAAa,CAAC,CAAC;IAChCY,QAAQ,CAACC,QAAQ,CAACC,IAAI,GAAG,SAAS;EACpC,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,MAAM,GAAGA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,KAAK,KAAK;EACvF,OAAQd,QAAQ,IAAK;IACnBA,QAAQ,CAAC;MACPG,IAAI,EAAET;IACR,CAAC,CAAC;IAEF,MAAMqB,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC;IAED,MAAMC,IAAI,GAAG;MACXT,SAAS;MACTC,QAAQ;MACRC,KAAK;MACLC,QAAQ;MACRC,QAAQ;MACRC,MAAM;MACNC;IACF,CAAC;IACD;IACA,MAAMI,GAAG,GAAGrB,QAAQ,GAAC,aAAa;IAClCD,KAAK,CACFuB,IAAI,CAACD,GAAG,EAAED,IAAI,EAAEF,MAAM,CAAC,CACvBK,IAAI,CAAEC,QAAQ,IAAK;MAClBrB,QAAQ,CAAC;QACPG,IAAI,EAAER,mBAAmB;QACzB2B,OAAO,EAAED,QAAQ,CAACE;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBzB,QAAQ,CAAC;QACPG,IAAI,EAAEV,gBAAgB;QACtB6B,OAAO,EAAEG;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,MAAM,GAAGA,CAAChB,KAAK,EAAEC,QAAQ,KAAK;EACzC,OAAQX,QAAQ,IAAK;IACnBA,QAAQ,CAAC;MACPG,IAAI,EAAEb;IACR,CAAC,CAAC;IAEF,MAAMyB,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC;IAED,MAAMC,IAAI,GAAG;MACXP,KAAK;MACLC;IACF,CAAC;IACD,MAAMO,GAAG,GAAGrB,QAAQ,GAAC,aAAa;IAClC;IACAD,KAAK,CACFuB,IAAI,CAACD,GAAG,EAAED,IAAI,EAAEF,MAAM,CAAC,CACvBK,IAAI,CAAEC,QAAQ,IAAK;MAChB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACFrB,QAAQ,CAAC;QACPG,IAAI,EAAEZ,mBAAmB;QACzB+B,OAAO,EAAED,QAAQ,CAACE;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBE,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B5B,QAAQ,CAAC;QACPG,IAAI,EAAEd,gBAAgB;QACtBiC,OAAO,EAAEG;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}